# SLURM cluster profile for Snakemake
# Configures job submission parameters for cluster execution

executor: slurm
jobs: 4                          # Max concurrent jobs to submit to cluster
latency-wait: 5                  # Wait time for file system (seconds)
configfile: config/config.yaml

default-resources:
  slurm_partition: "your_partition"    # Set to your SLURM partition
  slurm_account: "your_account"        # Set to your SLURM account
  runtime: 10                          # Default runtime in minutes
  mem_mb: 1024                         # Default memory in MB
  cpus_per_task: 1                     # Default CPU cores per task

# Configure storage so jobs execute from a node-local or scratch filesystem,
# while workflow sources and configs live on a shared filesystem (e.g. /home).
default-storage-provider: fs
shared-fs-usage:
  - persistence
  - software-deployment
  - sources
  - source-cache

# Generic example paths â€“ adjust to your cluster layout.
remote-job-local-storage-prefix: "/scratch/account_root/account0/username/snakemake_jobs/"
local-storage-prefix: "/scratch/account_root/account0/username/snakemake_workflow/"

# Centralize SLURM logs in the user's home directory.
slurm-logdir: "$HOME/.snakemake/slurm_logs"

# Optional: Job-specific SLURM directives
# Set on individual rules with resources: directive
# Example in rule:
#   resources:
#     mem_mb=2048,
#     runtime=60,
#     cpus_per_task=4,
#     slurm_partition="gpu"
